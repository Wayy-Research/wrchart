
<!DOCTYPE html>
<html>
<head>
    <title>Test Chart Debug</title>
</head>
<body style="background: #131722; padding: 20px;">
    
        <style>
            
        @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
            #wrchart-container-bb9219ea {
                font-family: 'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif;
            }
            #wrchart-title-bb9219ea {
                font-size: 14px;
                font-weight: 600;
                color: #000000;
                margin-bottom: 8px;
                letter-spacing: -0.02em;
            }
        </style>
        <div id="wrchart-container-bb9219ea">
            <div id='wrchart-title-bb9219ea'>Test Chart</div>
            <div id="wrchart-bb9219ea"></div>
        </div>
        <script src="https://unpkg.com/lightweight-charts@4.1.0/dist/lightweight-charts.standalone.production.js"></script>
        <script>
        (function() {
            const config = {"id": "bb9219ea", "width": 900, "height": 500, "title": "Test Chart", "options": {"layout": {"background": {"type": "solid", "color": "#ffffff"}, "textColor": "#000000", "fontFamily": "'Space Grotesk', -apple-system, BlinkMacSystemFont, sans-serif", "fontSize": 12}, "grid": {"vertLines": {"color": "#f5f5f5", "style": 0, "visible": true}, "horzLines": {"color": "#f5f5f5", "style": 0, "visible": true}}, "crosshair": {"mode": 1, "vertLine": {"color": "#888888", "width": 1, "style": 1, "labelBackgroundColor": "#000000"}, "horzLine": {"color": "#888888", "width": 1, "style": 1, "labelBackgroundColor": "#000000"}}, "rightPriceScale": {"borderColor": "#e0e0e0", "borderVisible": true}, "timeScale": {"borderColor": "#e0e0e0", "borderVisible": true}}, "series": [{"id": "series_0", "type": "Candlestick", "data": [{"time": 0, "open": 100.99837918591798, "high": 102.42788069486059, "low": 100.63701975103413, "close": 100.99837918591798}, {"time": 1, "open": 100.99837918591798, "high": 101.42322414403236, "low": 100.15465634731346, "close": 100.71947558141325}, {"time": 2, "open": 100.71947558141325, "high": 102.38234029472001, "low": 99.62863204900913, "close": 102.03265955881362}, {"time": 3, "open": 102.03265955881362, "high": 106.03235806215864, "low": 100.95743729863706, "close": 105.18845499786535}, {"time": 4, "open": 105.18845499786535, "high": 105.35810894609914, "low": 103.25462348945577, "close": 104.69700201539123}, {"time": 5, "open": 104.69700201539123, "high": 105.12003114909356, "low": 103.23059179061069, "close": 104.20787937697249}, {"time": 6, "open": 104.20787937697249, "high": 109.58036208405035, "low": 103.67117204697081, "close": 107.55173639564852}, {"time": 7, "open": 107.55173639564852, "high": 109.40591445688548, "low": 106.99915068408555, "close": 109.21524886413962}, {"time": 8, "open": 109.21524886413962, "high": 109.49653316431807, "low": 107.63731929242101, "close": 108.19457293704195}, {"time": 9, "open": 108.19457293704195, "high": 109.45643218727797, "low": 104.02612655431714, "close": 109.375006961726}, {"time": 10, "open": 109.375006961726, "high": 111.47366311203892, "low": 107.74731299573568, "close": 108.36596400103879}, {"time": 11, "open": 108.36596400103879, "high": 108.39469601776337, "low": 106.14210773097923, "close": 107.36126537139997}, {"time": 12, "open": 107.36126537139997, "high": 107.94704962205732, "low": 106.33703700644818, "close": 107.88207202358878}, {"time": 13, "open": 107.88207202358878, "high": 110.5394686534955, "low": 103.15553309342877, "close": 103.83188490778399}, {"time": 14, "open": 103.83188490778399, "high": 104.03161692334302, "low": 99.99468860592377, "close": 100.31093814289854}, {"time": 15, "open": 100.31093814289854, "high": 100.61342311093836, "low": 98.43637025889781, "close": 99.18918564802424}, {"time": 16, "open": 99.18918564802424, "high": 99.22361596971888, "low": 96.44897388380654, "close": 97.2001612384283}, {"time": 17, "open": 97.2001612384283, "high": 98.9561016728372, "low": 96.96997317083441, "close": 97.81298282462525}, {"time": 18, "open": 97.81298282462525, "high": 98.93081190790272, "low": 95.58647955610564, "close": 96.05268427227463}, {"time": 19, "open": 96.05268427227463, "high": 96.77493613410019, "low": 93.30108012284973, "close": 93.37753217369712}, {"time": 20, "open": 93.37753217369712, "high": 96.91583618849879, "low": 91.21616112589032, "close": 96.15521769776072}, {"time": 21, "open": 96.15521769776072, "high": 97.02964118463473, "low": 93.93462145505836, "close": 95.72200513866352}, {"time": 22, "open": 95.72200513866352, "high": 97.19596876256507, "low": 95.06510312396863, "close": 95.85137118068813}, {"time": 23, "open": 95.85137118068813, "high": 97.19506464628557, "low": 91.65625259921285, "close": 93.15863671896348}, {"time": 24, "open": 93.15863671896348, "high": 93.70534478703634, "low": 91.71497469490754, "close": 92.14985924496463}, {"time": 25, "open": 92.14985924496463, "high": 94.37750088801819, "low": 91.146392802612, "close": 92.35451619239235}, {"time": 26, "open": 92.35451619239235, "high": 93.2693212231767, "low": 90.19479587718293, "close": 90.25281040094285}, {"time": 27, "open": 90.25281040094285, "high": 91.44847511642031, "low": 89.28011544991226, "close": 90.93352065351161}, {"time": 28, "open": 90.93352065351161, "high": 91.0241371481651, "low": 89.20500793288502, "close": 89.84769180505103}, {"time": 29, "open": 89.84769180505103, "high": 90.30005305907481, "low": 88.71800649553327, "close": 89.32505757605475}, {"time": 30, "open": 89.32505757605475, "high": 90.7101885786654, "low": 87.6119538021651, "close": 88.25655019509476}, {"time": 31, "open": 88.25655019509476, "high": 91.65017417628982, "low": 88.06551131132875, "close": 91.58737914460141}, {"time": 32, "open": 91.58737914460141, "high": 92.56031527455893, "low": 91.52093218414063, "close": 91.56265897249925}, {"time": 33, "open": 91.56265897249925, "high": 91.99629279468131, "low": 89.06193187987175, "close": 89.64606595726423}, {"time": 34, "open": 89.64606595726423, "high": 91.97092069558838, "low": 87.72410442486078, "close": 91.13302160952091}, {"time": 35, "open": 91.13302160952091, "high": 92.54552366577894, "low": 88.37100992927788, "close": 88.93478444533437}, {"time": 36, "open": 88.93478444533437, "high": 90.0065667777565, "low": 87.13372825117976, "close": 89.30706624113391}, {"time": 37, "open": 89.30706624113391, "high": 89.59468993274892, "low": 85.71440758135721, "close": 85.87452433727177}, {"time": 38, "open": 85.87452433727177, "high": 86.57312837808978, "low": 83.07000040513864, "close": 83.62340880599466}, {"time": 39, "open": 83.62340880599466, "high": 84.98665320002405, "low": 82.91057499363944, "close": 83.953301963685}, {"time": 40, "open": 83.953301963685, "high": 85.39623927348964, "low": 83.28795463502378, "close": 85.20243786404296}, {"time": 41, "open": 85.20243786404296, "high": 86.61249993121471, "low": 85.10467961879472, "close": 85.49495877234526}, {"time": 42, "open": 85.49495877234526, "high": 86.86927590100575, "low": 84.86669916109125, "close": 85.29744038432804}, {"time": 43, "open": 85.29744038432804, "high": 85.45492833973893, "low": 84.05128318439458, "close": 84.78531646558899}, {"time": 44, "open": 84.78531646558899, "high": 85.00565891513213, "low": 81.32686069182088, "close": 82.31488327828227}, {"time": 45, "open": 82.31488327828227, "high": 82.95843986262867, "low": 80.86688676025913, "close": 81.1382953609819}, {"time": 46, "open": 81.1382953609819, "high": 82.14193608224393, "low": 80.01239065915155, "close": 80.39421923384717}, {"time": 47, "open": 80.39421923384717, "high": 83.19629901343936, "low": 79.86898029829305, "close": 82.11204508398907}, {"time": 48, "open": 82.11204508398907, "high": 83.10982496986566, "low": 80.66239450227226, "close": 82.67829259506964}, {"time": 49, "open": 82.67829259506964, "high": 82.92383445216788, "low": 79.49055749077505, "close": 79.81378873798892}, {"time": 50, "open": 79.81378873798892, "high": 80.53402424196938, "low": 78.80742948244475, "close": 80.33279633067811}, {"time": 51, "open": 80.33279633067811, "high": 80.6111078652046, "low": 78.98479076486367, "close": 79.71647798179083}, {"time": 52, "open": 79.71647798179083, "high": 80.25856973923868, "low": 76.97555453405221, "close": 78.64451396067923}, {"time": 53, "open": 78.64451396067923, "high": 79.79742568377829, "low": 77.83253667470592, "close": 79.61252265650542}, {"time": 54, "open": 79.61252265650542, "high": 81.50935747203519, "low": 78.40291389812414, "close": 81.27117403222009}, {"time": 55, "open": 81.27117403222009, "high": 83.3905599792215, "low": 80.87763131613765, "close": 82.79908355175671}, {"time": 56, "open": 82.79908355175671, "high": 84.34392774812683, "low": 80.38942145891016, "close": 81.42095258498327}, {"time": 57, "open": 81.42095258498327, "high": 81.8067518628509, "low": 80.34634011887023, "close": 80.9189790253229}, {"time": 58, "open": 80.9189790253229, "high": 82.4272673907713, "low": 80.55984487535095, "close": 81.45686886329115}, {"time": 59, "open": 81.45686886329115, "high": 83.6071165893337, "low": 80.82587621821882, "close": 83.06177153095204}, {"time": 60, "open": 83.06177153095204, "high": 83.87135939303033, "low": 81.50697093171685, "close": 82.26955248250813}, {"time": 61, "open": 82.26955248250813, "high": 82.91708346366578, "low": 81.91584757452709, "close": 81.96463731673464}, {"time": 62, "open": 81.96463731673464, "high": 82.91427598103577, "low": 77.5723930659823, "close": 80.1709478136913}, {"time": 63, "open": 80.1709478136913, "high": 80.82889660685323, "low": 77.47384256051578, "close": 78.27568904526473}, {"time": 64, "open": 78.27568904526473, "high": 80.32454488057338, "low": 78.07798958445284, "close": 79.55810112545073}, {"time": 65, "open": 79.55810112545073, "high": 82.08306319124513, "low": 78.56538851971678, "close": 81.74563281040025}, {"time": 66, "open": 81.74563281040025, "high": 82.41763109026994, "low": 80.29548279660624, "close": 81.62798728827187}, {"time": 67, "open": 81.62798728827187, "high": 84.8625699702679, "low": 80.46059166606584, "close": 83.28286640455327}, {"time": 68, "open": 83.28286640455327, "high": 84.09326145717046, "low": 82.91638474257682, "close": 83.8874117179921}, {"time": 69, "open": 83.8874117179921, "high": 84.51970147745408, "low": 82.70374679207187, "close": 82.8120156994596}, {"time": 70, "open": 82.8120156994596, "high": 84.15471043066802, "low": 81.61846823704605, "close": 83.4127420539518}, {"time": 71, "open": 83.4127420539518, "high": 86.72019764976629, "low": 82.21505006153818, "close": 86.01845028537035}, {"time": 72, "open": 86.01845028537035, "high": 86.0847719809519, "low": 84.9570195676087, "close": 85.95683835383899}, {"time": 73, "open": 85.95683835383899, "high": 88.99176857160698, "low": 85.94804233811973, "close": 88.68920360206938}, {"time": 74, "open": 88.68920360206938, "high": 88.93459846843537, "low": 83.33592174946504, "close": 84.1619788527984}, {"time": 75, "open": 84.1619788527984, "high": 86.26458302484927, "low": 83.7730634245109, "close": 85.55687092019801}, {"time": 76, "open": 85.55687092019801, "high": 85.71709354223691, "low": 85.38656167340208, "close": 85.70595014726582}, {"time": 77, "open": 85.70595014726582, "high": 86.95171533880779, "low": 84.68359098940252, "close": 85.19494543036178}, {"time": 78, "open": 85.19494543036178, "high": 85.57732849255407, "low": 85.13547758214528, "close": 85.35144007413089}, {"time": 79, "open": 85.35144007413089, "high": 87.67314363026762, "low": 81.70909887127988, "close": 82.02515293839818}, {"time": 80, "open": 82.02515293839818, "high": 82.53835753728805, "low": 81.5728664250763, "close": 81.66557101327484}, {"time": 81, "open": 81.66557101327484, "high": 82.95595507892968, "low": 81.12483821707319, "close": 82.25093497457209}, {"time": 82, "open": 82.25093497457209, "high": 85.62562779787675, "low": 80.9464213144386, "close": 84.71838496876768}, {"time": 83, "open": 84.71838496876768, "high": 85.12712780688152, "low": 82.80693642385772, "close": 83.8447801069792}, {"time": 84, "open": 83.8447801069792, "high": 84.03214198795659, "low": 80.74017223086751, "close": 82.49992312519366}, {"time": 85, "open": 82.49992312519366, "high": 83.08897298393315, "low": 80.08177450120081, "close": 81.67616495235359}, {"time": 86, "open": 81.67616495235359, "high": 83.5789318329539, "low": 81.55219270775923, "close": 83.18526784739774}, {"time": 87, "open": 83.18526784739774, "high": 83.79499743719782, "low": 82.69587460339122, "close": 83.73401486464795}, {"time": 88, "open": 83.73401486464795, "high": 84.44306924240824, "low": 82.61871322385531, "close": 82.85151925525751}, {"time": 89, "open": 82.85151925525751, "high": 84.97442336811021, "low": 82.33560324269096, "close": 83.70639930140835}, {"time": 90, "open": 83.70639930140835, "high": 84.24356538723636, "low": 83.53218765948921, "close": 83.86907741641141}, {"time": 91, "open": 83.86907741641141, "high": 86.2420092819932, "low": 83.45560208085877, "close": 85.50970519765097}, {"time": 92, "open": 85.50970519765097, "high": 85.69277612710331, "low": 83.82051067975615, "close": 84.31744800223609}, {"time": 93, "open": 84.31744800223609, "high": 85.36782314922027, "low": 83.0550181843184, "close": 83.7667018397543}, {"time": 94, "open": 83.7667018397543, "high": 83.9117697895554, "low": 82.81563479899742, "close": 83.11235879063081}, {"time": 95, "open": 83.11235879063081, "high": 83.4326051537537, "low": 80.15561238625449, "close": 80.71489362901436}, {"time": 96, "open": 80.71489362901436, "high": 81.91198049058997, "low": 79.98878254647165, "close": 81.19433829380586}, {"time": 97, "open": 81.19433829380586, "high": 81.74484056517721, "low": 80.94482848125006, "close": 81.61937110048092}, {"time": 98, "open": 81.61937110048092, "high": 81.67523311856341, "low": 80.95591815117051, "close": 81.62771866962912}, {"time": 99, "open": 81.62771866962912, "high": 82.56069924881972, "low": 80.7340934500607, "close": 81.24563942870911}], "options": {"title": "", "visible": true, "priceScaleId": "right", "priceLineVisible": true, "lastValueVisible": true, "upColor": "#000000", "downColor": "#E53935", "borderUpColor": "#000000", "borderDownColor": "#E53935", "wickUpColor": "#000000", "wickDownColor": "#E53935", "borderVisible": true, "wickVisible": true}}, {"id": "series_1", "type": "Histogram", "data": [{"time": 0, "value": 323992, "color": "#e0e0e0"}, {"time": 1, "value": 616771, "color": "#ffebee"}, {"time": 2, "value": 930857, "color": "#e0e0e0"}, {"time": 3, "value": 663044, "color": "#e0e0e0"}, {"time": 4, "value": 643176, "color": "#ffebee"}, {"time": 5, "value": 791095, "color": "#ffebee"}, {"time": 6, "value": 933727, "color": "#e0e0e0"}, {"time": 7, "value": 214352, "color": "#e0e0e0"}, {"time": 8, "value": 969474, "color": "#ffebee"}, {"time": 9, "value": 185999, "color": "#e0e0e0"}, {"time": 10, "value": 117955, "color": "#ffebee"}, {"time": 11, "value": 924273, "color": "#ffebee"}, {"time": 12, "value": 170640, "color": "#e0e0e0"}, {"time": 13, "value": 296582, "color": "#ffebee"}, {"time": 14, "value": 844086, "color": "#ffebee"}, {"time": 15, "value": 500573, "color": "#ffebee"}, {"time": 16, "value": 525695, "color": "#ffebee"}, {"time": 17, "value": 161476, "color": "#e0e0e0"}, {"time": 18, "value": 406955, "color": "#ffebee"}, {"time": 19, "value": 267280, "color": "#ffebee"}, {"time": 20, "value": 775510, "color": "#e0e0e0"}, {"time": 21, "value": 695468, "color": "#ffebee"}, {"time": 22, "value": 798646, "color": "#e0e0e0"}, {"time": 23, "value": 737144, "color": "#ffebee"}, {"time": 24, "value": 954882, "color": "#ffebee"}, {"time": 25, "value": 514568, "color": "#e0e0e0"}, {"time": 26, "value": 286141, "color": "#ffebee"}, {"time": 27, "value": 998320, "color": "#e0e0e0"}, {"time": 28, "value": 734736, "color": "#ffebee"}, {"time": 29, "value": 638685, "color": "#ffebee"}, {"time": 30, "value": 278031, "color": "#ffebee"}, {"time": 31, "value": 219180, "color": "#e0e0e0"}, {"time": 32, "value": 166234, "color": "#ffebee"}, {"time": 33, "value": 664242, "color": "#ffebee"}, {"time": 34, "value": 278352, "color": "#e0e0e0"}, {"time": 35, "value": 179459, "color": "#ffebee"}, {"time": 36, "value": 509995, "color": "#e0e0e0"}, {"time": 37, "value": 295004, "color": "#ffebee"}, {"time": 38, "value": 566152, "color": "#ffebee"}, {"time": 39, "value": 825256, "color": "#e0e0e0"}, {"time": 40, "value": 159163, "color": "#e0e0e0"}, {"time": 41, "value": 575853, "color": "#e0e0e0"}, {"time": 42, "value": 151934, "color": "#ffebee"}, {"time": 43, "value": 820255, "color": "#ffebee"}, {"time": 44, "value": 525523, "color": "#ffebee"}, {"time": 45, "value": 940530, "color": "#ffebee"}, {"time": 46, "value": 554137, "color": "#ffebee"}, {"time": 47, "value": 105486, "color": "#e0e0e0"}, {"time": 48, "value": 239407, "color": "#e0e0e0"}, {"time": 49, "value": 973332, "color": "#ffebee"}, {"time": 50, "value": 750308, "color": "#e0e0e0"}, {"time": 51, "value": 727083, "color": "#ffebee"}, {"time": 52, "value": 320184, "color": "#ffebee"}, {"time": 53, "value": 766490, "color": "#e0e0e0"}, {"time": 54, "value": 449652, "color": "#e0e0e0"}, {"time": 55, "value": 861315, "color": "#e0e0e0"}, {"time": 56, "value": 742612, "color": "#ffebee"}, {"time": 57, "value": 422710, "color": "#ffebee"}, {"time": 58, "value": 297775, "color": "#e0e0e0"}, {"time": 59, "value": 389336, "color": "#e0e0e0"}, {"time": 60, "value": 887494, "color": "#ffebee"}, {"time": 61, "value": 708364, "color": "#ffebee"}, {"time": 62, "value": 189780, "color": "#ffebee"}, {"time": 63, "value": 252617, "color": "#ffebee"}, {"time": 64, "value": 645977, "color": "#e0e0e0"}, {"time": 65, "value": 897606, "color": "#e0e0e0"}, {"time": 66, "value": 450605, "color": "#ffebee"}, {"time": 67, "value": 989465, "color": "#e0e0e0"}, {"time": 68, "value": 633636, "color": "#e0e0e0"}, {"time": 69, "value": 138102, "color": "#ffebee"}, {"time": 70, "value": 174460, "color": "#e0e0e0"}, {"time": 71, "value": 464778, "color": "#e0e0e0"}, {"time": 72, "value": 189930, "color": "#ffebee"}, {"time": 73, "value": 631089, "color": "#e0e0e0"}, {"time": 74, "value": 727438, "color": "#ffebee"}, {"time": 75, "value": 827627, "color": "#e0e0e0"}, {"time": 76, "value": 279208, "color": "#e0e0e0"}, {"time": 77, "value": 254697, "color": "#ffebee"}, {"time": 78, "value": 313945, "color": "#e0e0e0"}, {"time": 79, "value": 331915, "color": "#ffebee"}, {"time": 80, "value": 827952, "color": "#ffebee"}, {"time": 81, "value": 308124, "color": "#e0e0e0"}, {"time": 82, "value": 537477, "color": "#e0e0e0"}, {"time": 83, "value": 625830, "color": "#ffebee"}, {"time": 84, "value": 383821, "color": "#ffebee"}, {"time": 85, "value": 277804, "color": "#ffebee"}, {"time": 86, "value": 805703, "color": "#e0e0e0"}, {"time": 87, "value": 139081, "color": "#e0e0e0"}, {"time": 88, "value": 818216, "color": "#ffebee"}, {"time": 89, "value": 455249, "color": "#e0e0e0"}, {"time": 90, "value": 319930, "color": "#e0e0e0"}, {"time": 91, "value": 905497, "color": "#e0e0e0"}, {"time": 92, "value": 617313, "color": "#ffebee"}, {"time": 93, "value": 314532, "color": "#ffebee"}, {"time": 94, "value": 712380, "color": "#ffebee"}, {"time": 95, "value": 619332, "color": "#ffebee"}, {"time": 96, "value": 416837, "color": "#e0e0e0"}, {"time": 97, "value": 389106, "color": "#e0e0e0"}, {"time": 98, "value": 128295, "color": "#e0e0e0"}, {"time": 99, "value": 113807, "color": "#ffebee"}], "options": {"title": "", "visible": true, "priceScaleId": "volume", "priceLineVisible": false, "lastValueVisible": false, "color": "#e0e0e0", "base": 0}}], "markers": []};

            const container = document.getElementById('wrchart-' + config.id);
            const chart = LightweightCharts.createChart(container, {
                width: config.width,
                height: config.height,
                ...config.options
            });

            // Add each series
            const seriesMap = {};
            config.series.forEach(seriesConfig => {
                let series;
                switch(seriesConfig.type) {
                    case 'Candlestick':
                        series = chart.addCandlestickSeries(seriesConfig.options);
                        break;
                    case 'Line':
                        series = chart.addLineSeries(seriesConfig.options);
                        break;
                    case 'Area':
                        series = chart.addAreaSeries(seriesConfig.options);
                        break;
                    case 'Histogram':
                        series = chart.addHistogramSeries(seriesConfig.options);
                        break;
                    default:
                        console.warn('Unknown series type:', seriesConfig.type);
                        return;
                }
                series.setData(seriesConfig.data);
                seriesMap[seriesConfig.id] = series;
            });

            // Add markers to first candlestick series if any
            if (config.markers.length > 0) {
                const candlestickSeries = config.series.find(s => s.type === 'Candlestick');
                if (candlestickSeries) {
                    seriesMap[candlestickSeries.id].setMarkers(config.markers);
                }
            }

            // Configure volume scale if present
            const volumeSeries = config.series.find(s => s.options.priceScaleId === 'volume');
            if (volumeSeries) {
                chart.priceScale('volume').applyOptions({
                    scaleMargins: {
                        top: 0.8,
                        bottom: 0
                    }
                });
            }

            // Fit content
            chart.timeScale().fitContent();
        })();
        </script>
        
</body>
</html>
